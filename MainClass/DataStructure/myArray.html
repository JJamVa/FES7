<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        class MyArray {
            constructor() {
                this.length = 0;

                // 데이터를 저장해야합니다. 인덱스 번호를 키로 하여 데이터를 저장합니다. 즉, 유사배열객체(array like object)로 저장합니다. 
                this.data = {};
            }

            // 인덱스에 해당하는 데이터를 가져올 수 있습니다.
            get(index) {
                return this.data[index]
            }

            // 배열의 가장 마지막 원소로 데이터를 추가합니다.
            push(item) {
                this.data[this.length] = item;
                this.length++;
                return this.length
            }

            // 배열의 가장 마지막 원소를 제거합니다.
            // {0:3, 1:6}
            // 2
            pop() {
                const lastItem = this.data[this.length - 1];
                delete this.data[this.length - 1];
                this.length--;
                return lastItem;
            }

            // 인덱스 값으로 원소를 삭제합니다.
            deleteWithIndex(index) {
                const deletedItem = this.data[index];
                this.changeOrderOfItems(index);
                // delete this.data[index];
                delete this.data[this.length - 1];
                this.length--;
                return deletedItem;
            }

            // 제거해야하는 원소의 다음 원소들의 인덱스 정리가 필요하다.
            changeOrderOfItems(index) {
                // 인자로 전달받은 인덱스 부터 정리를 시작합니다.
                for (let i = index; i < this.length - 1; i++) {
                    // 다음 인덱스에 있던 원소의 값들을 하나씩 앞으로 땡겨주겠습니다.
                    // [0,1,2] => [0,2,2]
                    this.data[i] = this.data[i + 1];
                }
            }
        }

        const myArray = new MyArray();
        myArray.push(3);
        myArray.push(6);
        myArray.push(9);
        myArray.push(12);
    </script>
</body>

</html>